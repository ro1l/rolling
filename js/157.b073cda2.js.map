{"version":3,"file":"js/157.b073cda2.js","mappings":"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","sources":["webpack://rolling/./node_modules/mitt/dist/mitt.mjs","webpack://rolling/./src/methods/emitter.js","webpack://rolling/./src/methods/pushMessageState.js","webpack://rolling/./src/stores/cartStore.js","webpack://rolling/./src/stores/statusStore.js","webpack://rolling/./src/components/frontend/PageTitle.vue","webpack://rolling/./src/components/frontend/PageTitle.vue?b463","webpack://rolling/./src/views/frontend/Checkout.vue","webpack://rolling/./src/components/frontend/LogoNav.vue","webpack://rolling/./src/components/frontend/LogoNav.vue?f475","webpack://rolling/./src/views/frontend/Checkout.vue?b03a"],"sourcesContent":["export default function(n){return{all:n=n||new Map,on:function(t,e){var i=n.get(t);i?i.push(e):n.set(t,[e])},off:function(t,e){var i=n.get(t);i&&(e?i.splice(i.indexOf(e)>>>0,1):n.set(t,[]))},emit:function(t,e){var i=n.get(t);i&&i.slice().map(function(n){n(e)}),(i=n.get(\"*\"))&&i.slice().map(function(n){n(t,e)})}}}\n//# sourceMappingURL=mitt.mjs.map\n","import mitt from 'mitt';\n\nconst emitter = mitt();\n\nexport default emitter;\n","import emitter from '@/methods/emitter';\n\nexport default ((res, title = '更新') => {\n  const message = typeof res.data.message === 'string' ? [res.data.message] : res.data.message;\n  if (res.data.success) {\n    emitter.emit('push-message', {\n      style: 'success',\n      title: `${title}成功`,\n      content: message.toString(),\n    });\n  } else {\n    emitter.emit('push-message', {\n      style: 'danger',\n      title: `${title}失敗`,\n      content: message.join('、'),\n    });\n  }\n});\n","import pushMessageState from '@/methods/pushMessageState';\nimport emitter from '@/methods/emitter';\nimport axios from 'axios';\nimport { defineStore } from 'pinia';\nimport statusStore from './statusStore';\n\nconst status = statusStore();\n\nexport default defineStore('cartStore', {\n  state: () => ({\n\n    cartProducts: {},\n    cartProductsData: [],\n    status: {\n      loadingItem: '',\n    },\n\n  }),\n\n  actions: {\n\n    async addCart(id) {\n      status.cartLoadingItem = id;\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n\n      const cart = {\n        product_id: id,\n        qty: 1,\n      };\n\n      try {\n        const res = await axios.post(api, { data: cart });\n        status.cartLoadingItem = '';\n\n        pushMessageState(res);\n        emitter.emit('updateCart');\n      } catch (error) {\n        console.error('Error 找不到資料', error);\n      }\n    },\n\n    async getCartProducts() {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n\n      try {\n        const res = await axios.get(api);\n\n        this.cartProducts = res.data.data;\n        this.cartProductsData = res.data.data.carts;\n      } catch (error) {\n        console.error('Error 找不到資料', error);\n      }\n    },\n\n    async updateCart(item, qty) {\n      status.isLoadingForStore = true;\n      status.cartLoadingItem = item.id;\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${item.id}`;\n\n      const cart = {\n        product_id: item.product_id,\n        qty,\n      };\n\n      try {\n        const res = await axios.put(api, { data: cart });\n        status.isLoadingForStore = false;\n        status.cartLoadingItem = '';\n\n        this.getCartProducts();\n        pushMessageState(res);\n        emitter.emit('updateCart');\n      } catch (error) {\n        console.error('Error 找不到資料', error);\n      }\n    },\n\n    async delProduct(id) {\n      status.cartLoadingItem = id;\n      status.isLoadingForStore = true;\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${id}`;\n\n      try {\n        const res = await axios.delete(api);\n        status.isLoadingForStore = false;\n        status.cartLoadingItem = '';\n\n        this.getCartProducts();\n        pushMessageState(res);\n        emitter.emit('updateCart');\n      } catch (error) {\n        console.error('Error 找不到資料', error);\n      }\n    },\n\n    async addCouponCode(couponCode) {\n      status.isLoadingForStore = true;\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/coupon`;\n\n      const coupon = {\n        code: couponCode,\n      };\n\n      let res;\n\n      try {\n        res = await axios.post(api, { data: coupon });\n        status.isLoadingForStore = false;\n\n        this.getCartProducts();\n      } catch (error) {\n        console.error('Error 找不到資料', error);\n      } finally {\n        pushMessageState(res);\n      }\n    },\n\n    scrollToTop() {\n      window.scrollTo({ top: 0, behavior: 'smooth' });\n    },\n  },\n});\n","import { defineStore } from 'pinia';\n\nexport default defineStore('statusStore', {\n  state: () => ({\n    isLoadingForStore: false,\n    cartLoadingItem: '',\n  }),\n});\n","<template>\n  <div class=\"page-title-lg\">\n    <h3>{{ title }}</h3>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    title: String,\n  },\n};\n</script>\n","import { render } from \"./PageTitle.vue?vue&type=template&id=c505cfb4\"\nimport script from \"./PageTitle.vue?vue&type=script&lang=js\"\nexport * from \"./PageTitle.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/macbook/project/rolling/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n\n  <LogoNavVue />\n\n  <PageTitle :title=\"'結帳頁面'\" />\n\n  <div class=\"checkbox-box\">\n    <div class=\"order-information\">\n      <p>訂購人資訊</p>\n      <Form class=\"text-deep\"\n        v-slot=\"{ errors }\"\n        @submit=\"createOrder\">\n        <div class=\"name-phone\">\n          <div class=\"name\">\n            <label for=\"name\" class=\"form-label\">姓名</label>\n            <Field autocomplete=\"off\" id=\"name\" name=\"姓名\" type=\"name\" rules=\"required\"\n              :class=\"{ 'is-invalid': errors['姓名'] }\" placeholder=\"請輸入姓名\"\n              v-model=\"form.user.name\"></Field>\n            <error-message name=\"姓名\" class=\"invalid-feedback\"></error-message>\n          </div>\n          <div class=\"phone\">\n            <label for=\"tel\" class=\"form-label\">手機</label>\n            <Field autocomplete=\"off\" id=\"tel\" name=\"手機\" type=\"tel\" :rules=\"isPhone\"\n              :class=\"{ 'is-invalid': errors['手機'] }\" placeholder=\"請輸入手機\"\n              v-model=\"form.user.tel\"></Field>\n            <error-message name=\"手機\" class=\"invalid-feedback\"></error-message>\n          </div>\n        </div>\n\n        <div class=\"address\">\n          <label for=\"address\" class=\"form-label\">寄送地址</label>\n          <Field autocomplete=\"off\" id=\"address\" name=\"地址\" type=\"address\" :rules=\"isAddress\"\n            :class=\"{ 'is-invalid': errors['地址'] }\" placeholder=\"請輸入寄送地址\"\n            v-model=\"form.user.address\"></Field>\n          <error-message name=\"地址\" class=\"invalid-feedback\"></error-message>\n        </div>\n\n        <div class=\"mail\">\n          <label for=\"email\" class=\"form-label\">電子郵件</label>\n          <Field autocomplete=\"off\" id=\"email\" name=\"email\" type=\"email\" rules=\"email|required\"\n            :class=\"{ 'is-invalid': errors['email'] }\" placeholder=\"請輸入電子郵件\"\n            v-model=\"form.user.email\"></Field>\n          <error-message name=\"email\" class=\"invalid-feedback\"></error-message>\n        </div>\n\n        <div class=\"message\">\n          <label for=\"message\" class=\"form-label\">備註(選填)</label>\n          <textarea name=\"\" id=\"message\" cols=\"10\" rows=\"1\" maxlength=\"20\" placeholder=\"請輸入備註（限20字）\"\n            v-model=\"form.message\"></textarea>\n        </div>\n\n        <div class=\"step bg-color\">\n          <router-link :to=\"{ name: '購物車' }\" class=\"border-btn text-deep\">\n            上一步\n          </router-link>\n          <button class=\"fill-btn\">結帳去</button>\n        </div>\n      </Form>\n    </div>\n\n    <div class=\"products-information\">\n      <p>訂單資訊</p>\n      <div class=\"product-box item-underline\">\n        <div class=\"product-item\"\n          v-for=\"item in cartProducts.carts\" :key=\"item.id\">\n          <div class=\"img-box\">\n            <img :src=\"item.product.imageUrl\" :alt=\"item.product.title\">\n          </div>\n          <div class=\"content\">\n            <p>{{ item.product.category }}</p>\n            <p>{{ item.product.title }}</p>\n            <p>數量：{{ item.qty }}{{ item.product.unit }}</p>\n          </div>\n          <div class=\"price\">\n            <p>NT${{ $filters.currency(item.final_total) }}</p>\n          </div>\n        </div>\n      </div>\n      <div class=\"total-box\">\n        <p>\n          商品總計\n          <span>NT${{ $filters.currency(cartProducts.final_total) }}</span>\n        </p>\n        <p>\n          運費\n          <span>免運費</span>\n        </p>\n        <p class=\"item-top-line \">\n          總計\n          <span>NT${{ $filters.currency(cartProducts.final_total) }}</span>\n        </p>\n      </div>\n    </div>\n  </div>\n\n  <Loading :active=\"isLoadingForStore\" />\n</template>\n\n<script>\nimport LogoNavVue from '@/components/frontend/LogoNav.vue';\nimport PageTitle from '@/components/frontend/PageTitle.vue';\nimport axios from 'axios';\nimport { mapActions, mapState } from 'pinia';\nimport cartStore from '@/stores/cartStore';\nimport statusStore from '@/stores/statusStore';\n\nexport default {\n  components: {\n    LogoNavVue,\n    PageTitle,\n  },\n\n  data() {\n    return {\n      form: {\n        user: {\n          name: '',\n          email: '',\n          tel: '',\n          address: '',\n        },\n        message: '',\n      },\n    };\n  },\n\n  computed: {\n    ...mapState(cartStore, ['cartProducts']),\n    ...mapState(statusStore, ['isLoadingForStore']),\n  },\n\n  methods: {\n    ...mapActions(cartStore, ['getCartProducts']),\n\n    async createOrder() {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order`;\n\n      const order = this.form;\n\n      try {\n        const res = await axios.post(api, { data: order });\n\n        if (res.data.success) {\n          this.$router.push(`/order/${res.data.orderId}`);\n        }\n      } catch (error) {\n        console.error('Error 找不到資料', error);\n      }\n    },\n\n    isPhone(value) {\n      const phoneNumber = /^(09)[0-9]{8}$/;\n      return phoneNumber.test(value) ? true : '需要正確的電話號碼';\n    },\n\n    isAddress(value) {\n      const addressRegex = /(?:(?<city>[^市縣]+[市縣])(?<district>[^市區鄉鎮鄉鎮市區]+[市區鄉鎮鄉鎮市區])?(?<neighborhood>[^村里]+[村里])?(?<lin>[0-9]+[鄰])?(?<street>[^路段]+[路段])?(?<section>[^段]*段)?(?<alley>[0-9]+巷)?(?<lane>[0-9]+弄)?(?<number>[0-9]+號)?(?:-(?<number2>[0-9]+號))?(?<floor>[0-9]+樓)?(?<other>.+)?)/;\n      return addressRegex.test(value) ? true : '需要正確的地址';\n    },\n  },\n\n  created() {\n    this.getCartProducts();\n  },\n};\n</script>\n","<template>\n  <nav class=\"logo-nav bg-color\">\n    <p class=\"logo\">Rolling</p>\n  </nav>\n</template>\n","import { render } from \"./LogoNav.vue?vue&type=template&id=d2b0a604\"\nconst script = {}\n\nimport exportComponent from \"/Users/macbook/project/rolling/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Checkout.vue?vue&type=template&id=00823728\"\nimport script from \"./Checkout.vue?vue&type=script&lang=js\"\nexport * from \"./Checkout.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/macbook/project/rolling/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["n","all","Map","on","t","e","i","get","push","set","off","splice","indexOf","emit","slice","map","emitter","mitt","res","title","message","data","success","style","content","toString","join","status","statusStore","defineStore","state","cartProducts","cartProductsData","loadingItem","actions","async","id","cartLoadingItem","api","cart","product_id","qty","axios","pushMessageState","error","console","this","carts","item","isLoadingForStore","getCartProducts","couponCode","coupon","code","scrollToTop","window","scrollTo","top","behavior","class","_createElementBlock","_hoisted_1","_createElementVNode","_toDisplayString","$props","props","String","__exports__","render","for","_createVNode","_component_LogoNavVue","_component_PageTitle","_hoisted_2","_hoisted_3","_component_Form","onSubmit","$options","createOrder","errors","_hoisted_4","_hoisted_5","_hoisted_6","_component_Field","autocomplete","name","type","rules","_normalizeClass","placeholder","$data","form","user","$event","_component_error_message","_hoisted_7","_hoisted_8","isPhone","tel","_hoisted_9","_hoisted_10","isAddress","address","_hoisted_11","_hoisted_12","email","_hoisted_13","_hoisted_14","cols","rows","maxlength","_hoisted_15","_component_router_link","to","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_Fragment","_renderList","_ctx","key","_hoisted_20","src","product","imageUrl","alt","_hoisted_22","category","unit","_hoisted_23","$filters","currency","final_total","_hoisted_24","_hoisted_25","_hoisted_26","_component_Loading","active","script","components","LogoNavVue","PageTitle","computed","mapState","cartStore","methods","mapActions","order","$router","orderId","value","phoneNumber","test","addressRegex","created"],"sourceRoot":""}