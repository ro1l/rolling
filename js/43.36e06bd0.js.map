{"version":3,"file":"js/43.36e06bd0.js","mappings":"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","sources":["webpack://rolling/./src/views/frontend/Order.vue","webpack://rolling/./src/views/frontend/Order.vue?06ed"],"sourcesContent":["<template>\n  <div class=\"order-box\">\n    <header class=\"order-bg\">\n      <p class=\"logo\">Rolling</p>\n      <div class=\"title\">\n        <h1>訂單明細</h1>\n      </div>\n    </header>\n\n    <div class=\"order\">\n      <Form @submit=\"payOrder\">\n        <table class=\"products order-bg\">\n          <caption class=\"text-shallow\">商品明細</caption>\n          <thead>\n            <tr class=\"order-bg\">\n              <th class=\"order-bg\">品名</th>\n              <th class=\"order-bg\">數量</th>\n              <th class=\"order-bg\">金額</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"item in order.products\" :key=\"item.id\" class=\"item-underline\">\n              <td >{{ item.product.title }}</td>\n              <td >{{ item.qty }}{{ item.product.unit }}</td>\n              <td >NT${{ $filters.currency(item.product.price) }}</td>\n            </tr>\n          </tbody>\n          <tfoot>\n            <tr>\n              <th class=\"bg-color\"></th>\n              <th class=\"bg-color\">總計</th>\n              <th class=\"bg-color\">NT${{ $filters.currency(order.total) }}</th>\n            </tr>\n          </tfoot>\n        </table>\n        <table class=\"user\">\n          <caption class=\"text-shallow\">訂購人資訊</caption>\n          <tbody>\n            <tr class=\"item-underline\">\n              <th>姓名</th>\n              <td>{{ order.user.name }}</td>\n            </tr>\n            <tr class=\"item-underline\">\n              <th>手機</th>\n              <td>{{ order.user.tel }}</td>\n            </tr>\n            <tr class=\"item-underline\">\n              <th>姓名</th>\n              <td>{{ order.user.name }}</td>\n            </tr>\n            <tr class=\"item-underline\">\n              <th>電子郵件</th>\n              <td>{{ order.user.email }}</td>\n            </tr>\n            <tr class=\"item-underline\">\n              <th>寄送地址</th>\n              <td>{{ order.user.address }}</td>\n            </tr>\n            <tr class=\"item-underline\">\n              <th>備註</th>\n              <td v-if=\"order.message > 0\">{{ order.message }}</td>\n              <td v-else>無備註</td>\n            </tr>\n            <tr class=\"item-underline\"\n              v-if=\"order.is_paid === true\" >\n              <th>付款狀態</th>\n              <td>付款完成</td>\n            </tr>\n          </tbody>\n        </table>\n        <div class=\"button-box\"\n          v-if=\"order.is_paid === false\">\n          <button class=\"pay fill-btn\">確認付款</button>\n        </div>\n        <div class=\"button-box\"\n          v-else>\n          <button type=\"button\" class=\"home\">\n            <router-link :to=\"{ name: 'home' }\" class=\"border-btn\" >\n              回首頁\n            </router-link>\n          </button>\n        </div>\n      </Form>\n    </div>\n  </div>\n\n  <Loading :active=\"isLoading\" />\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  data() {\n    return {\n      order: {\n        user: {\n        },\n      },\n      orderId: '',\n      isLoading: false,\n    };\n  },\n\n  methods: {\n    async getOrder() {\n      this.isLoading = true;\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order/${this.orderId}`;\n\n      try {\n        const res = await axios.get(api);\n        this.isLoading = false;\n\n        this.order = res.data.order;\n      } catch (error) {\n        console.error('Error 找不到資料', error);\n      }\n    },\n\n    async payOrder() {\n      this.isLoading = true;\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/pay/${this.orderId}`;\n\n      try {\n        const res = await axios.post(api);\n        this.isLoading = false;\n\n        if (res.data.success) {\n          this.getOrder();\n          this.pushMessageState(res);\n        }\n      } catch (error) {\n        console.error('Error 找不到資料', error);\n      }\n    },\n  },\n\n  created() {\n    this.orderId = this.$route.params.orderId;\n    this.getOrder();\n  },\n\n  inject: ['pushMessageState'],\n};\n</script>\n","import { render } from \"./Order.vue?vue&type=template&id=265eab39\"\nimport script from \"./Order.vue?vue&type=script&lang=js\"\nexport * from \"./Order.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/macbook/project/rolling/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_27","_hoisted_28","_hoisted_31","type","_hoisted_1","_hoisted_2","_hoisted_3","_createVNode","_component_Form","onSubmit","$options","payOrder","_hoisted_4","_hoisted_5","_hoisted_6","_createElementBlock","_Fragment","_renderList","$data","order","products","item","key","id","_toDisplayString","product","title","qty","unit","_ctx","$filters","currency","price","_hoisted_7","_hoisted_8","_hoisted_9","total","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","user","name","_hoisted_14","_hoisted_15","tel","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","email","_hoisted_20","_hoisted_21","address","_hoisted_22","_hoisted_23","message","_hoisted_24","_hoisted_25","is_paid","_hoisted_26","_hoisted_29","_hoisted_30","_hoisted_32","_hoisted_33","_hoisted_34","_component_router_link","to","_component_Loading","active","isLoading","data","orderId","methods","async","this","api","res","axios","error","console","success","getOrder","pushMessageState","created","$route","params","inject","__exports__","render"],"sourceRoot":""}